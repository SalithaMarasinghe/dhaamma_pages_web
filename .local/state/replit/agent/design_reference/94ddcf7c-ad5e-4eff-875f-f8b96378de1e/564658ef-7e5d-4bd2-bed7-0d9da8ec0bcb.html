<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dhamma Page - Notion-like Notes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    popover: {
                        DEFAULT: "var(--popover)",
                        foreground: "var(--popover-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    destructive: {
                        DEFAULT: "var(--destructive)",
                        foreground: "var(--destructive-foreground)",
                    },
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                }
            },
            fontFamily: {
                sans: ['Inter', 'system-ui', 'sans-serif'],
            }
        }
    };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --background: hsl(0 0% 100%);
            --foreground: hsl(222.2 84% 4.9%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(222.2 84% 4.9%);
            --popover: hsl(0 0% 100%);
            --popover-foreground: hsl(222.2 84% 4.9%);
            --primary: hsl(221.2 83.2% 53.3%);
            --primary-foreground: hsl(210 40% 98%);
            --secondary: hsl(210 40% 96%);
            --secondary-foreground: hsl(222.2 84% 4.9%);
            --muted: hsl(210 40% 96%);
            --muted-foreground: hsl(215.4 16.3% 46.9%);
            --accent: hsl(262.1 83.3% 57.8%);
            --accent-foreground: hsl(210 40% 98%);
            --destructive: hsl(0 84.2% 60.2%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(214.3 31.8% 91.4%);
            --input: hsl(214.3 31.8% 91.4%);
            --ring: hsl(221.2 83.2% 53.3%);
            --radius: 0.75rem;
        }
        
        .dark {
            --background: hsl(222.2 84% 4.9%);
            --foreground: hsl(210 40% 98%);
            --card: hsl(222.2 84% 4.9%);
            --card-foreground: hsl(210 40% 98%);
            --popover: hsl(222.2 84% 4.9%);
            --popover-foreground: hsl(210 40% 98%);
            --primary: hsl(217.2 91.2% 59.8%);
            --primary-foreground: hsl(222.2 84% 4.9%);
            --secondary: hsl(217.2 32.6% 17.5%);
            --secondary-foreground: hsl(210 40% 98%);
            --muted: hsl(217.2 32.6% 17.5%);
            --muted-foreground: hsl(215 20.2% 65.1%);
            --accent: hsl(217.2 32.6% 17.5%);
            --accent-foreground: hsl(210 40% 98%);
            --destructive: hsl(0 62.8% 30.6%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(217.2 32.6% 17.5%);
            --input: hsl(217.2 32.6% 17.5%);
            --ring: hsl(224.3 76.3% 94.1%);
        }

        .editor-content {
            outline: none;
        }

        .editor-content h1 {
            font-size: 2.25rem;
            font-weight: 700;
            margin: 1.5rem 0 1rem 0;
            line-height: 1.2;
        }

        .editor-content h2 {
            font-size: 1.875rem;
            font-weight: 600;
            margin: 1.25rem 0 0.75rem 0;
            line-height: 1.3;
        }

        .editor-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 1rem 0 0.5rem 0;
            line-height: 1.4;
        }

        .editor-content p {
            margin: 0.5rem 0;
            line-height: 1.6;
        }

        .editor-content ul, .editor-content ol {
            margin: 0.5rem 0;
            padding-left: 1.5rem;
        }

        .editor-content li {
            margin: 0.25rem 0;
            line-height: 1.5;
        }

        .sidebar-nav-item {
            transition: all 0.2s ease;
        }

        .sidebar-nav-item:hover {
            background-color: hsl(var(--muted));
            transform: translateX(4px);
        }

        .page-card {
            transition: all 0.2s ease;
        }

        .page-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .floating-action-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 50;
        }

        @media (max-width: 768px) {
            .floating-action-btn {
                bottom: 1rem;
                right: 1rem;
            }
        }
    </style>
</head>
<body class="bg-background text-foreground font-sans">
    <!-- @COMPONENT: AuthScreen [initial auth state] -->
    <div id="auth-screen" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5">
        <div class="max-w-md w-full mx-4">
            <div class="bg-card rounded-lg shadow-lg border border-border p-8">
                <div class="text-center mb-8">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-primary rounded-full mb-4">
                        <i class="fas fa-lotus text-primary-foreground text-xl"></i>
                    </div>
                    <h1 class="text-3xl font-bold text-foreground mb-2">Dhamma Page</h1>
                    <p class="text-muted-foreground">Your personal space for mindful note-taking</p>
                </div>
                
                <button 
                    data-event="click:handleGoogleLogin"
                    class="w-full flex items-center justify-center gap-3 bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors duration-200 shadow-sm"
                >
                    <!-- Google logo icon -->
                    <svg width="20" height="20" viewBox="0 0 24 24">
                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    Continue with Google
                </button>

                <div class="mt-6 text-center">
                    <p class="text-sm text-muted-foreground">
                        By continuing, you agree to our Terms of Service and Privacy Policy
                    </p>
                </div>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: AuthScreen -->

    <!-- @COMPONENT: MainDashboard [authenticated user state] -->
    <div id="main-dashboard" class="hidden min-h-screen bg-background">
        <!-- Header -->
        <header class="bg-card border-b border-border sticky top-0 z-40">
            <div class="flex items-center justify-between px-6 py-4">
                <div class="flex items-center gap-4">
                    <button id="sidebar-toggle" class="md:hidden p-2 hover:bg-muted rounded-lg transition-colors">
                        <i class="fas fa-bars text-muted-foreground"></i>
                    </button>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                            <i class="fas fa-lotus text-primary-foreground text-sm"></i>
                        </div>
                        <h1 class="text-xl font-semibold text-foreground">Dhamma Page</h1>
                    </div>
                </div>

                <div class="flex items-center gap-4">
                    <!-- Search -->
                    <div class="relative hidden sm:block">
                        <input 
                            type="text" 
                            placeholder="Search pages..." 
                            data-implementation="Implement real-time search functionality"
                            class="w-64 pl-10 pr-4 py-2 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent text-sm"
                        >
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground text-sm"></i>
                    </div>

                    <!-- User Menu -->
                    <div class="relative">
                        <button 
                            data-event="click:toggleUserMenu"
                            class="flex items-center gap-2 p-2 hover:bg-muted rounded-lg transition-colors"
                        >
                            <!-- User profile image placeholder -->
                            <img 
                                data-bind="user.photoURL" 
                                data-mock="true"
                                src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face" 
                                alt="User avatar" 
                                class="w-8 h-8 rounded-full"
                            >
                            <i class="fas fa-chevron-down text-muted-foreground text-xs"></i>
                        </button>
                        <!-- User dropdown menu (hidden by default) -->
                        <div class="hidden absolute right-0 mt-2 w-48 bg-popover border border-border rounded-lg shadow-lg py-1">
                            <div class="px-4 py-2 border-b border-border">
                                <p class="text-sm font-medium" data-bind="user.displayName" data-mock="true">John Doe</p>
                                <p class="text-xs text-muted-foreground" data-bind="user.email" data-mock="true">john@example.com</p>
                            </div>
                            <button class="w-full text-left px-4 py-2 text-sm hover:bg-muted transition-colors" data-event="click:handleSignOut">
                                <i class="fas fa-sign-out-alt mr-2"></i>
                                Sign out
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="flex h-[calc(100vh-73px)]">
            <!-- Sidebar -->
            <aside id="sidebar" class="hidden md:flex flex-col w-64 bg-card border-r border-border">
                <div class="p-4">
                    <button 
                        data-event="click:createNewPage"
                        class="w-full flex items-center gap-3 bg-primary text-primary-foreground px-4 py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium"
                    >
                        <i class="fas fa-plus"></i>
                        New Page
                    </button>
                </div>

                <nav class="flex-1 px-4 pb-4">
                    <div class="space-y-1">
                        <div class="text-xs font-medium text-muted-foreground uppercase tracking-wider px-3 py-2">
                            Recent Pages
                        </div>
                        
                        <!-- @MAP: recentPages.map(page => ( -->
                        <a href="#" data-bind="page.href" class="sidebar-nav-item flex items-center gap-3 px-3 py-2 rounded-lg text-sm">
                            <i class="fas fa-file-alt text-muted-foreground text-xs"></i>
                            <span data-bind="page.title" data-mock="true">Daily Reflection</span>
                        </a>
                        <a href="#" data-bind="page.href" class="sidebar-nav-item flex items-center gap-3 px-3 py-2 rounded-lg text-sm">
                            <i class="fas fa-file-alt text-muted-foreground text-xs"></i>
                            <span data-bind="page.title" data-mock="true">Meditation Notes</span>
                        </a>
                        <a href="#" data-bind="page.href" class="sidebar-nav-item flex items-center gap-3 px-3 py-2 rounded-lg text-sm">
                            <i class="fas fa-file-alt text-muted-foreground text-xs"></i>
                            <span data-bind="page.title" data-mock="true">Buddhist Texts</span>
                        </a>
                        <!-- @END_MAP )) -->
                    </div>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 overflow-auto">
                <div class="p-6">
                    <div class="max-w-6xl mx-auto">
                        <!-- Page Header -->
                        <div class="mb-8">
                            <h2 class="text-3xl font-bold text-foreground mb-2">Your Pages</h2>
                            <p class="text-muted-foreground">Create and organize your thoughts, insights, and reflections.</p>
                        </div>

                        <!-- Quick Actions -->
                        <div class="flex flex-wrap gap-3 mb-8">
                            <button 
                                data-event="click:createNewPage"
                                class="flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium"
                            >
                                <i class="fas fa-plus"></i>
                                New Page
                            </button>
                            <button 
                                data-event="click:importPages"
                                class="flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2 rounded-lg hover:bg-secondary/80 transition-colors text-sm font-medium"
                            >
                                <i class="fas fa-upload"></i>
                                Import
                            </button>
                            <button 
                                data-event="click:toggleViewMode"
                                class="flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2 rounded-lg hover:bg-secondary/80 transition-colors text-sm font-medium"
                            >
                                <i class="fas fa-th-large"></i>
                                Grid View
                            </button>
                        </div>

                        <!-- Pages Grid -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                            <!-- @MAP: pages.map(page => ( -->
                            <div class="page-card bg-card border border-border rounded-lg p-6 cursor-pointer group" data-event="click:openPage" data-bind="page.id">
                                <div class="flex items-start justify-between mb-4">
                                    <div class="flex-1">
                                        <h3 class="text-lg font-semibold text-foreground mb-2 group-hover:text-primary transition-colors" data-bind="page.title" data-mock="true">Daily Reflection</h3>
                                        <p class="text-sm text-muted-foreground line-clamp-3" data-bind="page.preview" data-mock="true">Today I contemplated the nature of impermanence and how accepting change brings peace to the mind...</p>
                                    </div>
                                    <button 
                                        data-event="click:openPageMenu"
                                        class="opacity-0 group-hover:opacity-100 p-1 hover:bg-muted rounded transition-all"
                                    >
                                        <i class="fas fa-ellipsis-v text-muted-foreground text-sm"></i>
                                    </button>
                                </div>
                                <div class="flex items-center justify-between text-xs text-muted-foreground">
                                    <span data-bind="page.updatedAt" data-mock="true">2 hours ago</span>
                                    <div class="flex items-center gap-1">
                                        <i class="fas fa-clock"></i>
                                        <span data-bind="page.readTime" data-mock="true">3 min read</span>
                                    </div>
                                </div>
                            </div>

                            <div class="page-card bg-card border border-border rounded-lg p-6 cursor-pointer group" data-event="click:openPage" data-bind="page.id">
                                <div class="flex items-start justify-between mb-4">
                                    <div class="flex-1">
                                        <h3 class="text-lg font-semibold text-foreground mb-2 group-hover:text-primary transition-colors" data-bind="page.title" data-mock="true">Meditation Notes</h3>
                                        <p class="text-sm text-muted-foreground line-clamp-3" data-bind="page.preview" data-mock="true">Notes from today's sitting practice. Observed the breath and noticed how the mind tends to wander...</p>
                                    </div>
                                    <button 
                                        data-event="click:openPageMenu"
                                        class="opacity-0 group-hover:opacity-100 p-1 hover:bg-muted rounded transition-all"
                                    >
                                        <i class="fas fa-ellipsis-v text-muted-foreground text-sm"></i>
                                    </button>
                                </div>
                                <div class="flex items-center justify-between text-xs text-muted-foreground">
                                    <span data-bind="page.updatedAt" data-mock="true">1 day ago</span>
                                    <div class="flex items-center gap-1">
                                        <i class="fas fa-clock"></i>
                                        <span data-bind="page.readTime" data-mock="true">5 min read</span>
                                    </div>
                                </div>
                            </div>

                            <div class="page-card bg-card border border-border rounded-lg p-6 cursor-pointer group" data-event="click:openPage" data-bind="page.id">
                                <div class="flex items-start justify-between mb-4">
                                    <div class="flex-1">
                                        <h3 class="text-lg font-semibold text-foreground mb-2 group-hover:text-primary transition-colors" data-bind="page.title" data-mock="true">Buddhist Texts</h3>
                                        <p class="text-sm text-muted-foreground line-clamp-3" data-bind="page.preview" data-mock="true">Key insights from the Dhammapada. Chapter on mindfulness and its application in daily life...</p>
                                    </div>
                                    <button 
                                        data-event="click:openPageMenu"
                                        class="opacity-0 group-hover:opacity-100 p-1 hover:bg-muted rounded transition-all"
                                    >
                                        <i class="fas fa-ellipsis-v text-muted-foreground text-sm"></i>
                                    </button>
                                </div>
                                <div class="flex items-center justify-between text-xs text-muted-foreground">
                                    <span data-bind="page.updatedAt" data-mock="true">3 days ago</span>
                                    <div class="flex items-center gap-1">
                                        <i class="fas fa-clock"></i>
                                        <span data-bind="page.readTime" data-mock="true">8 min read</span>
                                    </div>
                                </div>
                            </div>

                            <div class="page-card bg-card border border-border rounded-lg p-6 cursor-pointer group" data-event="click:openPage" data-bind="page.id">
                                <div class="flex items-start justify-between mb-4">
                                    <div class="flex-1">
                                        <h3 class="text-lg font-semibold text-foreground mb-2 group-hover:text-primary transition-colors" data-bind="page.title" data-mock="true">Loving Kindness Practice</h3>
                                        <p class="text-sm text-muted-foreground line-clamp-3" data-bind="page.preview" data-mock="true">Reflections on metta meditation and extending compassion to all beings...</p>
                                    </div>
                                    <button 
                                        data-event="click:openPageMenu"
                                        class="opacity-0 group-hover:opacity-100 p-1 hover:bg-muted rounded transition-all"
                                    >
                                        <i class="fas fa-ellipsis-v text-muted-foreground text-sm"></i>
                                    </button>
                                </div>
                                <div class="flex items-center justify-between text-xs text-muted-foreground">
                                    <span data-bind="page.updatedAt" data-mock="true">1 week ago</span>
                                    <div class="flex items-center gap-1">
                                        <i class="fas fa-clock"></i>
                                        <span data-bind="page.readTime" data-mock="true">4 min read</span>
                                    </div>
                                </div>
                            </div>
                            <!-- @END_MAP )) -->

                            <!-- Empty State / Add New Page Card -->
                            <div 
                                class="page-card bg-muted/30 border-2 border-dashed border-border rounded-lg p-6 cursor-pointer group hover:border-primary/50 transition-colors"
                                data-event="click:createNewPage"
                            >
                                <div class="flex flex-col items-center justify-center text-center h-32">
                                    <div class="w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-3 group-hover:bg-primary/20 transition-colors">
                                        <i class="fas fa-plus text-primary text-lg"></i>
                                    </div>
                                    <p class="text-sm font-medium text-foreground mb-1">Create New Page</p>
                                    <p class="text-xs text-muted-foreground">Start writing your thoughts</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Floating Action Button (Mobile) -->
        <button 
            class="floating-action-btn md:hidden w-14 h-14 bg-primary text-primary-foreground rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center"
            data-event="click:createNewPage"
        >
            <i class="fas fa-plus text-lg"></i>
        </button>
    </div>
    <!-- @END_COMPONENT: MainDashboard -->

    <!-- @COMPONENT: PageEditor [individual page editing view] -->
    <div id="page-editor" class="hidden min-h-screen bg-background">
        <!-- Editor Header -->
        <header class="bg-card border-b border-border sticky top-0 z-40">
            <div class="flex items-center justify-between px-6 py-4">
                <div class="flex items-center gap-4">
                    <button 
                        data-event="click:goBackToDashboard"
                        class="p-2 hover:bg-muted rounded-lg transition-colors"
                    >
                        <i class="fas fa-arrow-left text-muted-foreground"></i>
                    </button>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                            <i class="fas fa-lotus text-primary-foreground text-sm"></i>
                        </div>
                        <span class="text-sm text-muted-foreground">Dhamma Page</span>
                    </div>
                </div>

                <div class="flex items-center gap-3">
                    <!-- Auto-save indicator -->
                    <div class="flex items-center gap-2 text-sm text-muted-foreground">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <span data-bind="saveStatus" data-mock="true">Saved</span>
                    </div>

                    <!-- Editor actions -->
                    <button 
                        data-event="click:sharePage"
                        class="flex items-center gap-2 bg-secondary text-secondary-foreground px-3 py-2 rounded-lg hover:bg-secondary/80 transition-colors text-sm"
                    >
                        <i class="fas fa-share"></i>
                        Share
                    </button>
                    
                    <button 
                        data-event="click:openPageSettings"
                        class="p-2 hover:bg-muted rounded-lg transition-colors"
                    >
                        <i class="fas fa-ellipsis-v text-muted-foreground"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Editor Content -->
        <div class="max-w-4xl mx-auto px-6 py-8">
            <!-- Page Title -->
            <div class="mb-8">
                <input 
                    type="text" 
                    data-bind="page.title"
                    data-mock="true"
                    value="Daily Reflection"
                    placeholder="Untitled Page"
                    class="w-full text-4xl font-bold bg-transparent border-none outline-none focus:ring-0 placeholder-muted-foreground resize-none"
                    data-implementation="Implement auto-resize and auto-save for title"
                />
                <div class="flex items-center gap-4 mt-2 text-sm text-muted-foreground">
                    <span data-bind="page.createdAt" data-mock="true">Created December 20, 2024</span>
                    <span>â€¢</span>
                    <span data-bind="page.lastEdited" data-mock="true">Last edited 2 hours ago</span>
                </div>
            </div>

            <!-- Editor Toolbar -->
            <div class="sticky top-20 bg-background/80 backdrop-blur-sm border border-border rounded-lg p-3 mb-6 shadow-sm">
                <div class="flex items-center gap-2 flex-wrap">
                    <div class="flex items-center gap-1">
                        <button 
                            data-event="click:formatHeading1"
                            class="p-2 hover:bg-muted rounded-lg transition-colors text-sm font-semibold"
                            title="Heading 1"
                        >
                            H1
                        </button>
                        <button 
                            data-event="click:formatHeading2"
                            class="p-2 hover:bg-muted rounded-lg transition-colors text-sm font-semibold"
                            title="Heading 2"
                        >
                            H2
                        </button>
                        <button 
                            data-event="click:formatHeading3"
                            class="p-2 hover:bg-muted rounded-lg transition-colors text-sm font-semibold"
                            title="Heading 3"
                        >
                            H3
                        </button>
                    </div>
                    
                    <div class="w-px h-6 bg-border"></div>
                    
                    <div class="flex items-center gap-1">
                        <button 
                            data-event="click:formatBold"
                            class="p-2 hover:bg-muted rounded-lg transition-colors"
                            title="Bold"
                        >
                            <i class="fas fa-bold text-sm"></i>
                        </button>
                        <button 
                            data-event="click:formatItalic"
                            class="p-2 hover:bg-muted rounded-lg transition-colors"
                            title="Italic"
                        >
                            <i class="fas fa-italic text-sm"></i>
                        </button>
                        <button 
                            data-event="click:formatUnderline"
                            class="p-2 hover:bg-muted rounded-lg transition-colors"
                            title="Underline"
                        >
                            <i class="fas fa-underline text-sm"></i>
                        </button>
                    </div>
                    
                    <div class="w-px h-6 bg-border"></div>
                    
                    <div class="flex items-center gap-1">
                        <button 
                            data-event="click:formatBulletList"
                            class="p-2 hover:bg-muted rounded-lg transition-colors"
                            title="Bullet List"
                        >
                            <i class="fas fa-list-ul text-sm"></i>
                        </button>
                        <button 
                            data-event="click:formatNumberedList"
                            class="p-2 hover:bg-muted rounded-lg transition-colors"
                            title="Numbered List"
                        >
                            <i class="fas fa-list-ol text-sm"></i>
                        </button>
                    </div>
                    
                    <div class="w-px h-6 bg-border"></div>
                    
                    <div class="flex items-center gap-1">
                        <button 
                            data-event="click:insertQuote"
                            class="p-2 hover:bg-muted rounded-lg transition-colors"
                            title="Quote"
                        >
                            <i class="fas fa-quote-left text-sm"></i>
                        </button>
                        <button 
                            data-event="click:insertCode"
                            class="p-2 hover:bg-muted rounded-lg transition-colors"
                            title="Code"
                        >
                            <i class="fas fa-code text-sm"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- @FUNCTIONALITY: This editor should implement Tiptap rich text editor with structured JSON content -->
            <!-- Rich Text Editor -->
            <div 
                class="editor-content min-h-96 p-4 bg-card border border-border rounded-lg focus-within:ring-2 focus-within:ring-ring focus-within:border-transparent"
                contenteditable="true"
                data-implementation="Implement Tiptap editor with structured JSON content storage"
                data-mock="true"
            >
                <h2>Today's Meditation Practice</h2>
                <p>This morning I spent 30 minutes in sitting meditation, focusing on the breath and observing the arising and passing of thoughts without attachment.</p>
                
                <h3>Key Insights</h3>
                <ul>
                    <li>The mind naturally wanders, and that's perfectly normal</li>
                    <li>Gentle redirection back to the breath builds mindfulness</li>
                    <li>Each moment of awareness is a small victory</li>
                </ul>
                
                <p>I noticed that my mind was particularly active today, jumping between various concerns about work and personal life. Rather than fighting these thoughts, I practiced the technique of acknowledging them with kindness and then returning attention to the sensation of breathing.</p>
                
                <h3>Next Steps</h3>
                <ol>
                    <li>Continue daily 30-minute practice</li>
                    <li>Read more about mindfulness in daily activities</li>
                    <li>Consider joining a local meditation group</li>
                </ol>
                
                <p>The practice of meditation is truly a journey of self-discovery and inner peace. Each session teaches something new about the nature of mind and consciousness.</p>
            </div>

            <!-- Content Blocks Suggestions -->
            <div class="mt-6 p-4 bg-muted/30 rounded-lg">
                <p class="text-sm text-muted-foreground mb-3">Add content blocks:</p>
                <div class="flex flex-wrap gap-2">
                    <button 
                        data-event="click:addTextBlock"
                        class="flex items-center gap-2 bg-background border border-border px-3 py-2 rounded-lg hover:bg-muted transition-colors text-sm"
                    >
                        <i class="fas fa-paragraph"></i>
                        Text
                    </button>
                    <button 
                        data-event="click:addHeadingBlock"
                        class="flex items-center gap-2 bg-background border border-border px-3 py-2 rounded-lg hover:bg-muted transition-colors text-sm"
                    >
                        <i class="fas fa-heading"></i>
                        Heading
                    </button>
                    <button 
                        data-event="click:addListBlock"
                        class="flex items-center gap-2 bg-background border border-border px-3 py-2 rounded-lg hover:bg-muted transition-colors text-sm"
                    >
                        <i class="fas fa-list"></i>
                        List
                    </button>
                    <button 
                        data-event="click:addQuoteBlock"
                        class="flex items-center gap-2 bg-background border border-border px-3 py-2 rounded-lg hover:bg-muted transition-colors text-sm"
                    >
                        <i class="fas fa-quote-left"></i>
                        Quote
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: PageEditor -->

    <!-- @STATE: currentView:string = 'auth' -->
    <!-- @STATE: user:object = null -->
    <!-- @STATE: pages:array = [] -->
    <!-- @STATE: currentPage:object = null -->
    <!-- @STATE: isLoading:boolean = false -->

    <script>
        (function() {
            // TODO: Implement Firebase integration, authentication, and Firestore CRUD operations
            // TODO: Implement Tiptap editor integration with structured JSON content
            // TODO: Implement auto-save functionality every few seconds
            // TODO: Implement real-time search functionality
            // TODO: Implement responsive sidebar toggle for mobile

            // Mock navigation between views
            const authScreen = document.getElementById('auth-screen');
            const mainDashboard = document.getElementById('main-dashboard');
            const pageEditor = document.getElementById('page-editor');
            
            // Show dashboard (simulate successful authentication)
            setTimeout(() => {
                authScreen.classList.add('hidden');
                mainDashboard.classList.remove('hidden');
            }, 2000);

            // Mock editor view navigation
            document.addEventListener('click', (e) => {
                if (e.target.closest('[data-event*="openPage"]')) {
                    mainDashboard.classList.add('hidden');
                    pageEditor.classList.remove('hidden');
                }
                
                if (e.target.closest('[data-event*="goBackToDashboard"]')) {
                    pageEditor.classList.add('hidden');
                    mainDashboard.classList.remove('hidden');
                }
            });

            // Mobile sidebar toggle
            const sidebarToggle = document.getElementById('sidebar-toggle');
            const sidebar = document.getElementById('sidebar');
            
            if (sidebarToggle && sidebar) {
                sidebarToggle.addEventListener('click', () => {
                    sidebar.classList.toggle('hidden');
                });
            }

            // Mock auto-save indicator animation
            const saveStatus = document.querySelector('[data-bind="saveStatus"]');
            if (saveStatus) {
                setInterval(() => {
                    saveStatus.textContent = 'Saving...';
                    setTimeout(() => {
                        saveStatus.textContent = 'Saved';
                    }, 1000);
                }, 10000);
            }
        })();
    </script>
</body>
</html>